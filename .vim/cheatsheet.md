# Vim マップキー

## ノーマルモード

- ev: vimrc  を開く
- eg: gvimrc を開く
- ,v: vimrc  を反映
- ,g: gvimrc を反映

---

- +: フォント 拡大
- -: フォント 縮小

- zR: 折畳みを再帰的に展開

- ,,e:   "EasyMotion" 開始
  - ,,e{char}{char}: "{char}{char}" 画面全体を検索
- ,,j/k: 拡張行移動

- vv: カーソルから行末まで選択
- Y:  カーソルから行末までヤンク
- d$: カーソルから行末まで削除(ノーマルモード維持)
  - MEMO: "Denite" のプリフィクスキーで "D" が使用されているため代替

- \<C-o\>:        カーソル位置 戻る
- \<C-i\>\<C-i\>: カーソル位置 進む
- g;:             変更箇所     戻る
- g,:             変更箇所     進む

- \<Leader\>a:    全選択
- \<Leader\>bp:   前のバッファを開く
- \<Leader\>bn:   次のバッファを開く
- \<Leader\>bb:   直前のバッファを開く

- dl: 仕切り線 を挿入
- dm: 仕切り線(マップキー)を挿入
- db: 仕切り線(基本設定編)を挿入

- crs: "SnakeCase"  >> "snake_case"
- crm: "mixed_case" >> "MixedCase"
- crc: "camel_case" >> "camelCase"
- cru: "upper_case" >> "UPPER_CASE"

- ,st: Startify(起動画面) 表示
- ,cd: 面上部にプログラマ用ネーミング辞書 起動

- VIM: ,hs: ウィンドウを分割しシェルを起動

- \<F2\>:  チートシート トグル表示
- \<F3\>:  カーソル位置の "Syntax highlight" を調査
- \<F4\>:  "Gundo.vim"  トグル表示
- \<F5\>:  現在のバッファ 実行
- \<F6\>:  "Ctags"       作成
- \<F8\>:  スニペット    登録/編集
  - \<C-k\>: 選択を決定
- \<F9\>:  "Ctags"      一覧
- \<F10\>: ビジュアルモードで選択した部分を翻訳  クビ候補
- \<F11\>: ALE(非同期文法チェック)修正
  - \<C-k\>: 次の修正
  - \<C-l\>: 前の修正

- \<C-l\>\<C-l\>: CtrlP 起動
- \<C-s\>:        エクスプローラで保存場所選択して保存

- \<C-ww\>:       次のウィンドウへ移動
- \<C-w\>\<C-w\>: 次のウィンドウへ移動
- \<C-wW\>:       前のウィンドウへ移動

- ,c: 垂直分割で  "Ctags" 表示
- ,h: 水平分割で  "Ctags" 表示

- \<Shift\>k:     カーソル位置をヘルプ検索

- \<Leader\>s:    ウィンドウを縦分割
- \<Leader\>v:    ウィンドウを横分割

- \<Leader\>ff:  "defx" 起動
- \<Leader\>fu:  改行コードを "LF"       として開き直す
- \<Leader\>fd:  改行コードを "CR/LF"    として開き直す
- \<Leader\>eu:  文字コードを "UTF-8"    として開き直す
- \<Leader\>ej:  文字コードを "SIFT-JIS" として開き直す

- \<Leader\>mm:  初期配置 3 画面分割
- \<Leader\>z:   Git Bash 起動
- \<Leader\>o:   現在のバッファを IDE 風に開く (NERDTree)
- \<Leader\>br:  現在のバッファをブラウザで表示(汎用)
- \<Leader\>md:  現在のバッファをブラウザで表示(Markdown 用)  クビ候補

- \<Leader\>zh:  カーソル位置の全角英数を半角にする

- \<Leader\>,t:  "TagList" を開く
  - 関数、クラス、変数、構造体、列挙型、マクロ定義など 一覧表示

- \<Leader\>l: スペルチェック トグル実行
  - ]s:            次のスペルミスの箇所へ移動
  - "閉じ角括弧"s: 前のスペルミスの箇所へ移動
  - z=:            正スペルの候補を表示し修正
  - zg:            カーソル位置を正スペルとし登録
  - zw:            カーソル位置を誤スペルとし登録

- \<Leader\>tm: テーブル(表) **作成モード**
  - USAGE:
    - "|" を入力して内容を記述
      - | Oct | Dec | Hex | Char |
      - 改行は "||"

- \<Leader\>mr: over.vim(ビジュアル強化置換) 起動
  | キー                      | 効果                           |
  | ---                       | ---                            |
  | \<Up\>/\<C-p\>            | 1 つ前のコマンド履歴を挿入     |
  | \<Down\>/\<C-n\>          | 1 つ後のコマンド履歴を挿入     |
  | \<C-r\>\<C-f\>            | カーソル位置のファイル名を挿入 |
  | \<C-r\>\<C-w\>            | カーソル位置の word を挿入     |
  | \<C-r\>\<C-r\>            | カーソル位置の WORD を挿入     |
  | \<C-r\>\{0-9a-z"%#:-=.\*} | 番号/名前付きレジスタの挿入    |

- \<C-h\>: カーソル位置の単語をハイライト付きで置換

- \<Leader\>sc: "Syntastic" トグル実行補  クビ候補
- \<Leader\>,c: 現在のファイルを "VS Code" で開く

### 補完

- \<C-x\>\<C-l\>: 同一文字列で始まる行から補完
- \<C-x\>\<C-n\>: 現在のファイルの前方から補完
- \<C-x\>\<C-k\>: "dictionary" から補完
- \<C-x\>\<C-t\>: "thesaurus"  から補完
- \<C-x\>\<C-i\>: 編集中と外部参照ファイルから補完
- \<C-x\>\<C-]\>: "tags" で設定したパスから補完
- \<C-x\>\<C-f\>: ファイル名から補完
- \<C-x\>\<C-d\>: 定義とマクロから補完
- \<C-x\>\<C-v\>: "Vim" のコマンドラインから補完
- \<C-x\>\<C-u\>: ユーザ定義補完 ("completefunc")
- \<C-x\>\<C-o\>: オムニ補完     ("omnifunc")
- \<C-x\>\<C-s\>: スペリング補完 ("spell")

### Ctrl 移動

- \<C-p\>: 上方向に 1 行分スクロール
- \<C-n\>: 下方向に 1 行分スクロール
- \<C-m\>: 下方向に 1 行分移動し行頭へカーソルを配置
- \<C-u\>: 上方向に 半画面分スクロール [U]p
- \<C-d\>: 下方向に 半画面分スクロール [D]own
- \<C-b\>: 上方向に 1 画面分スクロール [B]ack
- \<C-f\>: 下方向に 1 画面分スクロール [F]orward

### 辞典/翻訳

- \<Leader\>k:  カーソル位置を英和辞典検索(GENE)

- ,jg: カーソル位置を Google 翻訳(英和)
- ,eg: カーソル位置を Google 翻訳(和英)

- :AutoTranslateModeToggle: 動的に翻訳
- :Translate: ビジュアルモードで選択した部分を翻訳
  - "F10" にアサイン

## ビジュアルモード

- ga: テーブル(表) **整形**
  - USAGE
    - "\*," と入力すればテキスト整形
      - 2文字目の "," はデリミタ
      - 例) | で区切られていれば、"\*|" と入力
    - デリミタのデフォルト定義
      - \<Space\>, = : . | & # ,
    - 1文字目の "\*" は何番目のデリミタに整形を適用するか
      - "\*" は全てを対象
      - "1," と入力すれば1番目の "," に対して整形
        - デフォルトでは1なので "," だけでもよい

## 挿入モード

- ,df: 年月日時分 を挿入
- ,dd: 年月日 を挿入
- ,dt: 時分 を挿入
- ,ds: 年月日曜日 を挿入
- ,dy: 曜日 を挿入

- \<C-@\>: 直前の挿入文字を挿入して挿入モード終了
- \<C-y\>: カーソル直上行の文字をコピー
- \<C-e\>: カーソル位置行の文字をコピー
- \<C-w\>: カーソル位置の前の単語を削除
- \<C-u\>: カーソル位置の前を削除
- \<C-t\>: インデントを増やす
- \<C-d\>: インデントを減らす

### 囲い文字: ", /', /(,  /[, /{

- 囲い文字入力後は "." を入力で関数記述モード
- 囲い文字内で右囲い文字を入力すると囲い文字脱出
- , + "囲い文字" で左囲い文字単入力

## コマンドラインモード

- \<Home\>:           行頭へ移動
- \<End\>:            行末へ移動
- \<Left\>:           一文字戻る
- \<Right\>:          一文字進む
- \<Shift\>\<Left\>:  前の単語へ移動
- \<Shift\>\<Right\>: 次の単語へ移動
- \<Del\>:            カーソル位置の文字を削除
- \<Down\>:           履歴を 1 つ進む
- \<Up\>:             履歴を 1 つ戻る
- \<Shift\>\<Ins\>:   ペースト
- \<S-y\>:            下方向に 1 行分スクロール
- \<C-W\>:            カーソル位置の前の単語を削除
- \<C-U\>:            カーソル位置の前を削除
- \<C-P\>:            1 つ前の実行履歴
- \<C-N\>:            1 つ後の実行履歴
- \<C-R\>w:           カーソル位置の word 挿入
- \<C-R\>a:           カーソル位置の WORD 挿入
- \<C-R\>l:           カーソル位置の行挿入
- \<C-R\>\*:          \*レジスタを挿入

- :e!:        ファイル再読込
- :CdCurrent: 現在のディレトリをカレントに変更

- TODO: Del
## Denite/Unite

- (D|U)B: 現在開いているバッファ一覧
- (D|U)F: 現在のバッファのディレクトリ一覧
- (D|U)M: 最近使用したファイル一覧
- (D|U)R: レジスタ一覧
- DL:     Colorscheme プレビュー
- UA:     ブックマークに追加
- UC:     ブックマーク一覧
- UT:     バッファを新しいタブで開く
- UW:     最近使用したウィンドウ一覧

## Git

- mgs:  Git
  - 選択ファイル上で -: "git add/reset" をトグル
- mga:  Git add
- mgc:  Git cm
- mgb:  Git blame
- mgd:  Git diff
- mgm:  Git merge
-:Agit: 強化版 "git log" 起動
-:Gitv: "gitk" 実行  ◁ クビ予定

- TODO: 動作確認
## マーク

- mn:    現在位置をマーク
- m,"_": "_" のマークへ移動
- mj:    次のマークへ移動
- mk:    前のマークへ移動
- md:    マークの全削除
- ml:    マーク一覧を表示/非表示
- ms"_": 次にマークする "_" を設定
- m"_":  NOTWORK: マークする "_" を設定して、同時にマーク
- ddp:   マーク削除

## Grep

- \<Leader\>r: カーソル位置を "RipGrep"(UTF-8) 対象に挿入
- ,r: カーソル位置を "RipGrep"(Shift_JIS) 対象に挿入
- \<Leader\>P: カーソル位置を "The Platinum Searcher" 対象に挿入
- \<Leader\>A: カーソル位置を "The Sliver Searcher" 対象に挿入
- \<Leader\>G: カーソル位置を "外部 grep" 対象に挿入
- \<Leader\>g: カーソル位置を "VimGrep" 対象に挿入

## Diff

## LSP

- **_先に "F6" 押下_**
- \<Leader\>d:  定義元ジャンプ
- \<Leader\>ls: 定義元ジャンプ 水平分割
- \<Leader\>lv: 定義元ジャンプ 垂直分割
- \<Leader\>p:  カーソル位置の定義情報 ホバー表示
- \<Leader\>r:  変数リネーム
- \<Leader\>R:  参照元ジャンプ
- \<Leader\>i:  全実装と "Interface" 表示
- \<Leader\>f:  "Lint" を "QuickFix" 表示
- \<Leader\>s:  テキスト整形
- ]d:           次の診断へジャンプ
- [d:           前の診断へジャンプ
- ]e:           次のエラーへジャンプ
- [e:           前のエラーへジャンプ

### vim-surround

#### ノーマルモード vim-surround

- MEMO: [★] = [", ', \`]、[☆] = (左記以外の)[", ', \`]
  - \<Leader\>★:  "★" で "word" を前後にスペースありで囲む
  - \<Leader\>n★: "★" で "word" を前後にスペースなしで囲む
  - \<Leader\>f★: "★" で "word" を前側にスペースありで囲む
  - \<Leader\>b★: "★" で "word" を後側にスペースありで囲む
  - ds★:          囲い文字 "★" を削除
  - cs★☆:        囲い文字 "★" を "☆" に変更
  - [c|d]i★:      "★" の中身を削除

- \<Leader\>開き括弧: "word" を前後にスペースありで囲む
- \<Leader\>閉じ括弧: "word" を前後にスペースなしで囲む

  - MEMO: 不等号は設定不可の模様

- [1-3]\<Leader\>\*: "[1-3]\*" で "word" を前後にスペースなしで囲む

#### ビジュアルモード vim-surround

- MEMO: ★=[", ', \`, ), ], \*]
- "word" を選択し ★: "★" で選択範囲を前後にスペースなしで囲む
- MEMO: ★=[(, []
- "word" を選択し ★: "★" で選択範囲を前後にスペースありで囲む

### yankround

- \<S-Up\>:    前の履歴
- \<S-Down\>:  次の履歴
- \<C-r\>:     コマンドラインで挿入
- \<C-y\>:     コマンドラインで前のレジスタ置換え
- \<Leader\>y: 履歴一覧(Unite)
- g\<C-p\>:    履歴一覧(CtrlP)

## Python

- \<F7\>:     Flake8 に基づいた構文確認
  - ]e: 次のエラーへジャンプ
  - [e: 前のエラーへジャンプ
- \<F12\>:    デバッグを実行
- \<Shift\>s: PEP8 に基づいた自動整形

## Jedi Vim

- \<C-N\>:     補完
  - "Mac" は \<C-Space\>
- \<Leader\>d: 定義元ジャンプ
- \<Leader\>r: 変数リネーム
- \<Leader\>n: 使用箇所表示

## ターミナル

- :term[inal]

## KaoriYa

- :VDsplit (ファイル名|バッファ番号)
  - [c:         前方の変更の先頭へ移動
  - ]c:         次方の変更の先頭へ移動
  -:            diffg[et]|do: 差分をもう片方のへコピー
  -:            diffpu[t]|dp: 差分をもう片方のへコピー
  - diffoff:    Diff モードを終了
  - diffupdate: Diff 状態をアップデート

## Plugin キーバインド割込み対策

```VimScript
autocmd VimEnter * imap <Nul> <C-Space>
```
  - "autocmd" イベントで "VimEnter" を指定する
    - 基本的に "Plugin" より後に読込まれる
    - "Plugin" の上書きはある程度回避できる
