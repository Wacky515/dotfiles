# Vim マップキー

## ノーマルモード

- ev: vimrc  を開く
- eg: gvimrc を開く
- ,v: vimrc  を反映
- ,g: gvimrc を反映

---

- +: フォント 拡大
- -: フォント 縮小

- zR: 折畳みを再帰的に展開

- ,,e:   "EasyMotion" 開始 ◁ e 要る？
  - ,,e{char}{char}: "{char}{char}" 画面全体を検索
- ,,j/k: 拡張行移動

### カーソルから行末まで

- vv: 選択
- Y:  ヤンク
- D:  ノーマルモードのまま削除

- \<C-o\>: カーソル位置 戻る
- \<C-i\>: カーソル位置 進む
- g;:      直前の変更   戻る
- g,:      直前の変更   進む

- \<Leader\>a:    全選択
- \<Leader\>y:    全ヤンク
- \<Leader\>g:    Git 変更部ハイライト トグル
- \<Leader\>bp:   前のバッファを開く
- \<Leader\>bn:   次のバッファを開く
- \<Leader\>bb:   直前のバッファを開く

### 仕切り線・サブタイトル

- dl: 仕切り線
- dm: マップキー
- db: 基本設定

- crs: "SnakeCase"  >> "snake_case"
- crm: "mixed_case" >> "MixedCase"
- crc: "camel_case" >> "camelCase"
- cru: "upper_case" >> "UPPER_CASE"

- ,st: Startify(起動画面) 表示

- \<F2\>:  チートシート トグル表示
- \<F3\>:  カーソル位置の "Syntax highlight" を表示
- \<F4\>:  "Gundo.vim"  トグル表示
- \<F5\>:  現在のバッファ 実行
- \<F6\>:  "Ctags"        作成
- \<F8\>:  スニペット     登録/編集
  - \<C-k\>: 選択を決定
- \<F9\>:  "Ctags"      一覧
- \<F10\>: None
- \<F11\>: ALE(非同期文法チェック)修正
  - \<C-k\>: 次の修正
  - \<C-l\>: 前の修正

- \<C-l\>\<C-l\>: CtrlP 起動
- \<C-h\>:        カーソル位置の単語を置換
- \<C-s\>:        保存場所を選択し保存

- \<C-w\>\<C-w\>: 次のウィンドウへ移動
- \<C-w\>\<C-W\>: 前のウィンドウへ移動

- ,c: 垂直分割で  "Ctags" 表示
- ,h: 水平分割で  "Ctags" 表示

- \<Shift\>k:     カーソル位置をヘルプ検索

- \<Leader\>s:    ウィンドウを縦分割
- \<Leader\>v:    ウィンドウを横分割

- \<Leader\>fu:  改行コードを "LF"       として開き直す
- \<Leader\>fd:  改行コードを "CR/LF"    として開き直す
- \<Leader\>eu:  文字コードを "UTF-8"    として開き直す
- \<Leader\>ej:  文字コードを "SIFT-JIS" として開き直す
- \<Leader\>zh:  カーソル位置の全角英数を半角にする

- \<Leader\>z:   Git Bash 起動
- \<Leader\>mm:  初期配置3画面分割
- \<Leader\>br:  現在のバッファをブラウザで表示(汎用)

- \<Leader\>,t:  "TagList" を開く
  - 関数、クラス、変数、構造体、列挙型、マクロ定義など 一覧表示

- \<Leader\>l: スペルチェック トグル実行
  - ]s:            次のスペルミスの箇所へ移動
  - "閉じ大括弧"s: 前のスペルミスの箇所へ移動
  - z=:            正スペルの候補を表示し修正
  - zg:            カーソル位置を正スペルとし登録
  - zw:            カーソル位置を誤スペルとし登録

- \<Leader\>tm: テーブル(表) **作成モード**
  - USAGE:
    - |: 入力開始
      - 例) | Oct | Dec | Hex | Char |
      - ||: 改行

- \<Leader\>mr: "over.vim(ビジュアル強化置換)" 起動

  | キー                       | 効果                          |
  | ---                        | ---                           |
  | \<Up\>/\<C-p\>             | 1つ前のコマンド履歴      挿入 |
  | \<Down\>/\<C-n\>           | 1つ後のコマンド履歴      挿入 |
  | \<C-r\>\<C-f\>             | カーソル位置のファイル名 挿入 |
  | \<C-r\>\<C-w\>             | カーソル位置の word      挿入 |
  | \<C-r\>\<C-r\>             | カーソル位置の WORD      挿入 |
  | \<C-r\>\{0-9a-z"％#:-=.\*} | 番号/名前付きレジスタ    挿入 |

- \<Leader\>,c: 現在のファイルを "VS Code" で開く
- \<Leader\>sc: "Syntastic" トグル実行

### 補完

- \<C-x\>\<C-l\>: 同一文字列で始まる行から
- \<C-x\>\<C-n\>: 現在のファイルの前方から
- \<C-x\>\<C-k\>: "dictionary" から
- \<C-x\>\<C-t\>: "thesaurus"  から
- \<C-x\>\<C-i\>: 編集中と外部参照ファイルから
- \<C-x\>\<C-]\>: "tags" で設定したパスから
- \<C-x\>\<C-f\>: ファイル名から
- \<C-x\>\<C-d\>: 定義とマクロから
- \<C-x\>\<C-v\>: "Vim" のコマンドラインから
- \<C-x\>\<C-u\>: ユーザ定義補完 ("completefunc")
- \<C-x\>\<C-o\>: オムニ補完     ("omnifunc")
- \<C-x\>\<C-s\>: スペリング補完 ("spell")

### Ctrl 移動

- \<C-p\>: 上方向に 1行分スクロール
- \<C-n\>: 下方向に 1行分スクロール
- \<C-m\>: 下方向に 1行分移動し行頭へカーソルを配置
- \<C-u\>: 上方向に半画面分スクロール [U]p
- \<C-d\>: 下方向に半画面分スクロール [D]own
- \<C-b\>: 上方向に 1画面分スクロール [B]ack
- \<C-f\>: 下方向に 1画面分スクロール [F]orward

### 辞典/翻訳

- None

## ビジュアルモード

- ga: テーブル(表) **整形**
  - USAGE
    - "\*," と入力すればテキスト整形
      - 2文字目の "," はデリミタ
      - 例) | で区切られていれば、"\*|" と入力
    - デリミタのデフォルト定義
      - \<Space\>, = : . | & # ,
    - 1文字目の "\*" は何番目のデリミタに整形を適用するか
      - "\*" は全てを対象
      - "1," と入力すれば1番目の "," に対して整形
        - デフォルトでは1なので "," だけでもよい

## 挿入モード

- ,df: 年月日時分 を挿入
- ,dd: 年月日 を挿入
- ,dt: 時分 を挿入
- ,ds: 年月日曜日 を挿入

- \<C-@\>: 直前の挿入文字を挿入して挿入モード終了
- \<C-y\>: カーソル直上行の文字をコピー
- \<C-e\>: カーソル位置行の文字をコピー
- \<C-w\>: カーソル位置の前の単語を削除
- \<C-u\>: カーソル位置の前を削除
- \<C-t\>: インデントを増やす
- \<C-d\>: インデントを減らす

### 囲い文字: ", /', /(,  /[, /{

- 囲い文字入力後は "." を入力で関数記述モード
- 囲い文字内で右囲い文字を入力すると囲い文字脱出
- , + "囲い文字" で左囲い文字単入力

## コマンドラインモード

- \<C-a\>:     行頭へ移動
- \<C-e\>:     行末へ移動
- \<C-b\>:     一文字戻る
- \<C-f\>:     一文字進む
- \<S-Right\>: 次の単語へ移動
- \<S-Left\>:  前の単語へ移動
- \<C-h\>:     カーソル左側の文字を削除
- \<C-d\>:     カーソル位置の文字を削除
- \<C-n\>:     履歴を1つ進む
- \<C-p\>:     履歴を1つ戻る
- \<S-Ins\>:   ペースト
- \<C-w\>:     カーソル位置の前の単語を削除
- \<C-u\>:     カーソル位置の前を削除
- \<C-r\>w:    カーソル位置の word 挿入
- \<C-r\>a:    カーソル位置の WORD 挿入
- \<C-r\>l:    カーソル位置の行挿入
- \<C-r\>\*:   \*レジスタを挿入

- :e!:        ファイル再読込
- :CdCurrent: 現在のディレトリをカレントに変更

## Git

- mgs:  Git
  - 選択ファイル上で -:  "git add/reset" をトグル
  - 選択ファイル上で ca: "commit"

- mga:  Git add .
- mgc:  Git commit
- mgb:  Git blame
- mgd:  Git diff
- mgm:  Git merge
-:Agit: 強化版 "git log" 起動
-:Gitv: "gitk" 実行 ◁ クビ予定

## マーク ◁ 動作しない

- mn:    現在位置をマーク
- m,"_": "_" のマークへ移動
- mj:    次のマークへ移動
- mk:    前のマークへ移動
- md:    マークの全削除
- ml:    マーク一覧を表示/非表示
- ms"_": 次にマークする "_" を設定
- m"_":  NOTWORK: マークする "_" を設定して、同時にマーク
- ddp:   マーク削除

## Grep

- \<Leader\>r: カーソル位置を "RipGrep"(UTF-8) 対象に挿入
- ,r: カーソル位置を "RipGrep"(Shift_JIS) 対象に挿入

## LSP

- **_先に "F6" 押下_**
- \<Leader\>d:   定義元ジャンプ
- \<Leader\>ls:  定義元ジャンプ 水平分割
- \<Leader\>lv:  定義元ジャンプ 垂直分割
- \<Leader\>p:   カーソル位置の定義情報 ホバー表示
- \<Leader\>r:   変数リネーム
- \<Leader\>R:   参照元ジャンプ
- \<Leader\>i:   全実装と "Interface" 表示
- \<Leader\>f:   "Lint" を "QuickFix" 表示
- \<Leader\>s:   テキスト整形
- "開き大括弧"d: 次の診断へジャンプ
- "閉じ大括弧"d: 前の診断へジャンプ
- "開き大括弧"e: 次のエラーへジャンプ
- "閉じ大括弧"e: 前のエラーへジャンプ

### vim-surround

#### ノーマルモード vim-surround

- MEMO: [★]: [", ', \`]
- MEMO: [☆]: 上記以外の[", ', \`]
  - \<Leader\>★:  "★" で "word" を前後にスペースありで囲む
  - \<Leader\>n★: "★" で "word" を前後にスペースなしで囲む
  - \<Leader\>f★: "★" で "word" を前側にスペースありで囲む
  - \<Leader\>b★: "★" で "word" を後側にスペースありで囲む
  - ds★:          囲い文字 "★" を削除
  - cs★☆:        囲い文字 "★" を "☆" に変更
  - [c|d]i★:      "★" の中身を削除

- \<Leader\>"開き括弧": "word" を前後にスペースありで囲む
- \<Leader\>"閉じ括弧": "word" を前後にスペースなしで囲む

  - MEMO: 不等号は設定不可の模様

- [1-3]\<Leader\>\*: "[1-3]\*" で "word" を前後にスペースなしで囲む

#### ビジュアルモード vim-surround

- MEMO: ★=["、 '、 \`、 )、 ]、 \*]
- "word" を選択し ★: "★" で選択範囲を前後にスペースなしで囲む
- MEMO: ★=[(, []
- "word" を選択し ★: "★" で選択範囲を前後にスペースありで囲む

### yankround

- \<S-Up\>:    前の履歴
- \<S-Down\>:  次の履歴
- \<C-r\>:     コマンドラインで挿入
- \<C-y\>:     コマンドラインで前のレジスタ置換え

## Python

- \<F7\>:         Flake8 に基づいた構文確認
  - "閉じ括弧"e: 次のエラーへジャンプ
  - "開き括弧"e: 前のエラーへジャンプ
- \<F12\>:        デバッグを実行
- \<Shift\>s:     PEP8 に基づいた自動整形

## Jedi Vim

- \<C-N\>:     補完
  - "Mac" は \<C-Space\>
- \<Leader\>d: 定義元ジャンプ
- \<Leader\>r: 変数リネーム
- \<Leader\>n: 使用箇所表示

## ターミナル

- :term[inal]

## KaoriYa

- :VDsplit (ファイル名|バッファ番号)
  - "開き括弧"c:  前方の変更の先頭へ移動
  - "閉じ括弧"c:  次方の変更の先頭へ移動
  - :diffg[et]|do: 差分をもう片方のへコピー
  - :diffpu[t]|dp: 差分をもう片方のへコピー
  - diffoff:       Diff モードを終了
  - diffupdate:    Diff 状態をアップデート

## Plugin キーバインド割込み対策

- "mapkey.vim" に記載
