# Vim マップキー

## ノーマルモード

- ev: vimrc  を開く
- eg: gvimrc を開く
- ,v: vimrc  を反映
- ,g: gvimrc を反映

---

- +: フォント 拡大
- -: フォント 縮小

- ,,e:               "EasyMotion" 開始
  - ,,e{char}{char}: "{char}{char}" 画面全体を検索
    - e{char}\<CR\>: 1つの "{char}" で検索
    - e{char}{char}: "{char}{char}" で検索
    - e\<CR >:       前回の検索をリピート
- ,,j/k: 拡張行移動

- 囲い文字は "." を入力で関数記述モード
- 囲い文字内で閉じ囲い文字入力で囲い文字脱出
- \<Leader\>囲い文字で囲い文字はじめ単品入力
- 囲い文字: "/'/(/[/{

- crs: "SnakeCase"  >> "snake_case"
- crm: "mixed_case" >> "MixedCase"
- crc: "camel_case" >> "camelCase"
- cru: "upper_case" >> "UPPER_CASE"

- Y:  カーソルから行末までヤンク
- d$: カーソルから行末まで削除
  - MEMO: "Denite" のプリフィクスキーで "D" が使用されているため

- vv: カーソルから行末まで選択
- Y:  カーソルから行末までヤンク
- g;: 変更箇所へ進む
- g,: 変更箇所へ戻る

- bk: バックアップファイル作成

- ,st: Startify          表示
- ,kg: カーソル下 Google 検索
- ,uc: "Unite codic"     起動
- ,s:  "VimShell"        起動
- ,hs: ウィンドウを分割してシェルを起動
- ,cd: プログラマ用ネーミング辞書

- \<F4\>:    "Gundo.vim"  表示
- \<F6\>:    "Ctags"      作成
- \<F7\>:    チートシート 表示
- \<F8\>:    スニペット   登録/編集
- \<F9\>:    "Ctags"      一覧
- \<F11\>:   ALE          修正
  - \<C-k\>: 次の修正
  - \<C-l\>: 前の修正

- \<C-i\>p:  CtrlP 起動
- \<C-s\>:   エクスプローラで保存場所選択して保存

- \<C-ww\>:       次のウィンドウへ移動
- \<C-w\>\<C-w\>: 次のウィンドウへ移動
- \<C-wW\>:       前のウィンドウへ移動

- ,c:             垂直分割で "Ctags" 表示
- ,v:             水平分割で "Ctags" 表示

- \<C-j\>:        マルチカーソル 選択開始
  - 複数押下で選択していく

- \<Alt\>k:       マルチカーソル 全選択

- \<Shift\>k:     カーソル下をヘルプ検索

- \<Leader\>s:    ウィンドウを縦分割
- \<Leader\>v:    ウィンドウを横分割
- \<Leader\>e:    ウィンドウサイズ変更開始

- \<Leader\>i:    初期配置 3 画面分割
- \<Leader\>o:    現在開いているバッファを IDE 風に開く
- \<Leader\>br:   編集中のファイルをブラウザで表示（汎用）
- \<Leader\>md:   編集中のファイルをブラウザで表示（Markdown 用）

- \<Leader\>zh:   全角英数字を半角にする

- \<Leader\>,t:   "TagList" を開く
  - 関数、クラス、変数、構造体、列挙型、マクロ定義など 一覧表示
- \<Leader\>re:   カーソル下の単語を入力した文字で置換
- \<Leader\>m:    over.vim（ビジュアル強化置換） 起動

| キー                     | 効果                         |
| ---                      | ---                          |
| \<Up\>/\<C-p\>           | 1つ前のコマンド履歴を挿入    |
| \<Down\>/\<C-n\>         | 1つ後のコマンド履歴を挿入    |
| \<C-r\>\<C-f\>           | カーソル下のファイル名を挿入 |
| \<C-r\>\<C-w\>           | カーソル下の word を挿入     |
| \<C-r\>\<C-r\>           | カーソル下の WORD を挿入     |
| \<C-r\>\{0-9a-z"%#:-=.*} | 番号/名前付きレジスタの挿入  |

- sub:     カーソル下の単語をハイライト付きで置換
- \<C-h\>: ヤンクした文字列をハイライト付きで置換

- \<Leader\>l:    スペルチェック トグル実行
  - ]s: 次のスペルミスの箇所へ移動
  - [s: 前のスペルミスの箇所へ移動
  - z=: 正スペル候補を表示し修正
  - zg: カーソル下を正スペルとし登録
  - zw: カーソル下を誤スペルとし登録

- \<Leader\>sc:   "Syntastic" トグル実行
- \<Leader\>,m:   "atom"    起動
- \<Leader\>,c:   "VS Code" 起動

### Ctrl 移動

- \<C-y\>: 上方向に 1 行分スクロール
- \<C-m\>: 1 行下の先頭
- \<S-y\>: 下方向に 1 行分スクロール
- \<C-u\>: 上方向に半画面分スクロール  U p
- \<C-d\>: 下方向に半画面分スクロール  D own
- \<C-b\>: 上方向に 1 画面分スクロール B ack
- \<C-f\>: 下方向に 1 画面分スクロール F orward
- \<C-p\>: 上方向に 1 行分スクロール
- \<C-n\>: 下方向に 1 行分スクロール

### 辞典/翻訳

- \<Leader\>k:  カーソル下を英和辞典検索（GENE）
- \<Leader\>dj: カーソル下を英和辞典検索
- \<Leader\>de: カーソル下を和英辞典検索

- ,jg: カーソル下を Google 翻訳（英和）
- ,eg: カーソル下を Google 翻訳（和英）

- :AutoTranslateModeToggle: 動的に翻訳
- :Translate : ビジュアルモードで選択した状態

### SURROUND N

- \<Leader\>*:   "*" で "word" を前後にスペースありで囲む
- \<Leader\>n\*: "*" で "word" を前後にスペースなしで囲む
- \<Leader\>f\*: "*" で "word" を前にスペースありで囲む
- \<Leader\>b\*: "*" で "word" を後にスペースありで囲む
- MEMO: "*=[",',\`]"
- ds\*:          囲い文字 "\*" を削除
- cs\*\*':       囲い文字 "\*" を "*'" に変更
- [c|d]i\*:      "*" の中身を削除

- \<Leader\>はじめカッコ: "word" を前後にスペースありで囲む
- \<Leader\>おわりカッコ: "word" を前後にスペースなしで囲む
  - MEMO: 不等号は設定不可の模様

- [1-3]\<Leader\>*: "[1-3]*" で "word" を前後にスペースなしで囲む

## 挿入モード

- ,df: 年月日時分を挿入
- ,dd: 年月日    を挿入
- ,dt: 時分      を挿入
- ,ds: 年月日曜日を挿入
- ,dy: 曜日      を挿入
- dl:  仕切り線  を挿入

- \<C-@\>: 直前の挿入文字を挿入して挿入モード終了
- \<C-y\>: カーソル直上行の文字をコピー
- \<C-e\>: カーソル直下行の文字をコピー
- \<C-w\>: カーソル下の前の単語を削除
- \<C-u\>: カーソル下の前を削除
- \<C-t\>: インデントを増やす
- \<C-d\>: インデントを減らす

### 補完

- \<C-x\>\<C-l\>:   行補完
- \<C-x\>\<C-n\>:   現在のファイル補完
- \<C-x\>\<C-k\>:   "dictionary" 補完
- \<C-x\>\<C-t\>:   "thesaurus" 補完
- \<C-x\>\<C-i\>:   編集中と外部参照ファイルのキーワード補完
- \<C-x\>\<C-]\>:   "tags" 補完
- \<C-x\>\<C-f\>:   ファイル名補完
- \<C-x\>\<C-d\>:   定義もしくはマクロ補完
- \<C-x\>\<C-v\>:   Vim のコマンドライン補完
- \<C-x\>\<C-u\>:   ユーザ定義補完
- \<C-x\>\<C-o\>:   オムニ補完
- \<C-x\>\<C-s\>:   スペリング補完
- \<C-n\>, \<C-p\>: "complete" 補完

## ビジュアルモード

- ga: テーブル **整形**
  - USAGE
    - "\*," と入力すればテキスト整形
      - 2 文字目の "," はデリミタ
      - 例) |で句切られていれば、"\*|" と入力
    - デリミタのデフォルト定義
      - \<Space\>, = : . | & # ,
    - 1 文字目の "\*" は何番目のデリミタに整形を適用するか
      - "\*" は全てを対象にする
      - "1," と入力すれば 1 番目の "," に対して整形
        - デフォルトでは 1 なので "," だけでもよい

### SURROUND V

- "word" を選択し "*": 前後にスペースなしで囲む
  - MEMO: "\*=["、'、\`、)、]、*]"
- "word" を選択し "*": 前後にスペースありで囲む
  - MEMO: "*=[(,[]"

## コマンドラインモード

- \<Home\>:           行頭へ移動
- \<End\>:            行末へ移動
- \<Left\>:           一文字戻る
- \<Right\>:          一文字進む
- \<Shift\>\<Left\>:  前の単語へ移動
- \<Shift\>\<Right\>: 次の単語へ移動
- \<Del\>:            カーソル下の文字を削除
- \<Down\>:           履歴を 1 つ進む
- \<Up\>:             履歴を 1 つ戻る
- \<Shift\>\<Ins\>:   ペースト
- \<S-y\>:            下方向に 1 行分スクロール
- \<C-W\>:            カーソル下の前の単語を削除
- \<C-U\>:            カーソル下の前を削除
- \<C-P\>:            1つ前の実行履歴
- \<C-N\>:            1つ後の実行履歴
- \<C-R\>w:           カーソル下の word 挿入
- \<C-R\>a:           カーソル下の WORD 挿入
- \<C-R\>l:           カーソル下の行挿入
- \<C-R\>*:           *レジスタを挿入

- :e!: ファイル再読込
- :CdCurrent: 開いているところをカレントディレトリに変更

- \<Leader\>tm: テーブル **作成モード**
  - USAGE
    - "|" を入力して内容を記述
      - | Oct | Dec | Hex | Char |
      - 改行は "||"

## Denite/Unite

- (D|U)B: 現在のバッファ一覧
- (D|U)F: 現在のバッファのディレクトリ一覧
- (D|U)M: 最近使用したファイル一覧
- (D|U)R: レジスタ一覧
- DL:     Colorscheme プレビュー
- UA:     ブックマークに追加
- UC:     ブックマーク一覧
- UT:     バッファを新しいタブで開く
- UW:     最近使用したウィンドウ一覧

## Git

- mgs :  Gstatus\<CR\>\<C-w\>T
  - 選択ファイル上で -: "git add/reset" をトグル
- mga:   Gwrite\<CR\>
- mgc:   Gcommit-v\<CR\>
- mgb:   Gblame\<CR\>
- mgd:   Gdiff\<CR\>
- mgm:   Gmerge\<CR\>
- :Agit: 強化版"git log" 起動
- :Gitv: "gitk" 実行

## マーク

- mn:    現在位置をマーク
- m,"_": "_" のマークへ移動
- mj:    次のマークへ移動
- mk:    前のマークへ移動
- md:    マークの全削除
- ml:    マーク一覧を表示/非表示
- ms"_": 次にマークする "_" を設定
- m"_":  NOTWORK: マークする "_" を設定して、同時にマーク
- ddp:   マーク削除

## Grep

- \<Leader\>r: カーソル下を "RipGrep"               対象に挿入
- ,r:          カーソル下を "RipGrep"（日本語対応） 対象に挿入
- \<Leader\>P: カーソル下を "The Platinum Searcher" 対象に挿入
- \<Leader\>a: カーソル下を "The Sliver Searcher"   対象に挿入
- \<Leader\>G: カーソル下を "外部 grep"             対象に挿入
- \<Leader\>g: カーソル下を "VimGrep"               対象に挿入

## LSP

- \<Leader\>d:  定義元ジャンプ
- \<Leader\>p:  カーソル下のシンボル情報表示
- \<Leader\>R:  参照元表示
- \<Leader\>i:  全実装と "Interface" 表示
- \<Leader\>ls: 水平分割 定義元ジャンプ
- \<Leader\>lv: 垂直分割 定義元ジャンプ

## Diff

## Python

- \<F12\>: デバッグを実行

## Jedi

- \<C-N\>:     補完
  - "Mac" は \<C-Space\>
- \<Leader\>d: 定義元ジャンプ
- \<Leader\>r: 変数リネーム
- \<Leader\>n: 使用箇所表示

## 天気予報

- :Weather: 天気予報

## 乗換え案内

- :TrainSearchRoute {出発駅} {到着駅}: 乗換え情報
- :TrainLateInfo:   電車遅延情報

## Kaoriya

- :VDsplit (ファイル名|バッファ番号)
  - [c: 前方の変更の先頭へ移動
  - ]c: 次方の変更の先頭へ移動
  - :diffg[et]|do: 差分をもう片方のへコピー
  - :diffpu[t]|dp: 差分をもう片方のへコピー
  - diffoff: Diff モードを終了
  - diffupdate: Diff 状態をアップデート

## Plugin キーバインド割込み対策

``` VimScript
autocmd VimEnter * imap <Nul> <C-Space>
```

- "autocmd" イベントで "VimEnter" を指定する
  - 基本的に "Plugin" より後に読込まれる
  - "Plugin" の上書きはある程度回避できる

## NOTWORK

- \<Leader\>dw: カーソル下を Wiki で検索
- \<Leader\>da: カーソル下の単語をスペースアルクで検索
